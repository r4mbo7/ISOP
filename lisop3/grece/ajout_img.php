<?php	session_start();		try	{		$bdd = new PDO('mysql:host=localhost;dbname=lisopfr_images', 'lisopfr', 'hRkrKDkDy6');	}	catch(Exception $e)	{			die('Erreur : '.$e->getMessage());	}		while($c<$_SESSION['img']){		$c++;		if(!empty($_FILES['image'.$c]['name'])){	list($width, $height, $type, $attr) = getimagesize($_FILES['image'.$c]['tmp_name']);		$source=$_FILES['image'.$c]['tmp_name'];		$destination= 'images/'.$_FILES['image'.$c]['name'];		if($_FILES['image'.$c]['error']>0){		die("erreur lors de transmission de le l'image");		}		if(!move_uploaded_file($source, $destination)) {		die("erreur lors de déplacement de l'image");		}		$image=$_FILES['image'.$c]['name'];	}	else {	$image='';	}		$id_auteur=$_SESSION['id'];	if(empty($_POST['commentaire'.$c])){	$commentaire="Pas de déscripton";	}	else{	$commentaire=$_POST['commentaire'.$c];	}		$req = $bdd->prepare("INSERT INTO image(url, commentaire, id_auteur, date) VALUES(:image, :commentaire, :id_auteur, NOW())" );	$req->execute(array( 			'image' => $image,			'id_auteur' => $id_auteur,			'commentaire' => $commentaire			));			}		$_SESSION['img']=0;		header('Location: index.php');?>