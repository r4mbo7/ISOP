<?php session_start();		try		{			$bdd = new PDO('mysql:host=localhost;dbname=lisopfr_membre', 'lisopfr', 'hRkrKDkDy6');		}				catch(Exception $e)		{				die('Erreur : '.$e->getMessage());		}		$prenom=$_POST['prenom'];		$verif = $bdd->query("SELECT prenom FROM membre2 WHERE prenom='$prenom' ");		$prenom2 = $verif->fetch();				if(!isset($_POST['pass']) OR $_POST['pass'] != $_POST['pass2'] OR $_POST['pass'] == '')		{ 			header('Location: inscription.php?erreur=1');		}				elseif($prenom == $prenom2['prenom'])		{			header('Location: inscription.php?erreur=2');		}				elseif(preg_match("#^[a-z]|[0-9]|[A-Z]{2,5}#", $_POST['prenom']) OR preg_match("#zizi|salope|admin|modo|administrateur|moderateur|modrateur|masqu|pute|connard|cul|bite|isop|lisop|encul|merde|putin|chaudasse|monsieur|fils#i", $_POST['prenom']))		{			header('Location: inscription.php?erreur=3');		}				elseif(empty($_POST['charte']))		{			header('Location: inscription.php?erreur=4');		}		else		{				$prenom=$_POST['prenom'];			$lycee=$_POST['lycee'];			$pass=$_POST['pass'];			$mail=$_POST['mail'];			$sexe=$_POST['sexe'];			$classe=$_POST['classe'];			$ip=$_SERVER['REMOTE_ADDR'];			$bdd->exec("INSERT INTO membre2(prenom, lycee, pass, nb_connex, mail, sexe, classe, date, ip) VALUES('$prenom', '$lycee', '$pass', 1, '$mail', '$sexe', '$classe', NOW(), '$ip')");						$a = $bdd->query("SELECT id FROM membre2 WHERE prenom = '$prenom' AND classe = '$classe'");			$resultat = $a->fetch();						$id=$resultat['id'];			$_SESSION['prenom']=$_POST['prenom'];			$_SESSION['ip']=$_SERVER['REMOTE_ADDR'];			$_SESSION['id']=$id;						$bdd->exec("INSERT INTO vote(id_elut) VALUES($id)");						$bdd->exec("UPDATE compteur_visite SET nb_membre = nb_membre+1 WHERE id=1 ");						header('Location: index.php');		}?>